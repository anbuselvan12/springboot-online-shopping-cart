<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<title th:text="${title}"></title>
</head>
<body>

<!--MUNCUL JIKA ADA CART-->
<th:block th:include="/fragments/header"></th:block>
<!--MUNCUL JIKA CART KOSONG-->
<th:block th:if="${cartForm == null || cartForm.cartLines == null || cartForm.cartLines.empty}">
	<div class="container">
		<div class="container-fluid">
			<div class="page-header">
				<div class="jumbotron">
					<h2>Data Pembelian Anda Masih Kosong</h2>
					<a class="link" th:href="@{|/index|}">Klik ini untuk belanja barang !</a>
				</div>
			</div>
		</div>
	</div>
</th:block>

<th:block th:if="${cartForm!=null || cartForm.cartLines!=null||!cartForm.cartLines.empty}">
	<form method="POST" th:object="${cartForm}">
		<div class="container">
			<div class="container-fluid">
				<div class="page-header">
					<h4>Total: <span th:utext="${amount}"></span></h4>
				</div>
				<br/>
				<table class="table table-hover table-striped">
					<thead>
						<tr>
							<th>Pict</th>
							<th>Quantity</th>
							<th>Name</th>
							<th>Price</th>
							<th>Opsi</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="cartLineModelInfo, varStatus : ${cartForm.cartLines}">
							<td class="col-sm-8 col-md-6">
								<div class="media">
									<a class="thumbnail pull-left" th:href="@{/}">
										<img th:src="@{|/productImage?code=${cartLineModelInfo.productModelInfo.idproduct}|}"
											 class="media-object" style="width:72px; heigh:72px;"/>
									</a>
									<div class="media-body">
										<h5 class="media-heading" style="color:blue;"
											th:utext="${cartLineModelInfo.productModelInfo.name}"></h5>
										<h5 class="media-heading" style="color:blue;"
											th:utext="${cartLineModelInfo.productModelInfo.price}" >
										</h5>
									</div>
								</div>
							</td>
							<td>
								<br/>
								<div class="col-lg-10">
								<input type="number" class="form-control"
								th:name="|cartLines[${varStatus.index}].quantity|"
								th:value="${cartLineModelInfo.quantity}"/>
								</div>
							</td>
							<td th:utext="${cartLineModelInfo.productModelInfo.name}"></td>
							<td th:utext="${#numbers.formatDecimal(cartLineModelInfo.productModelInfo.price,3,2,'COMMA')}"></td>
							<td>
								<a class="btn btn-danger">
									Remove
								</a>
								<br/>
								<a href="" class="btn btn-primary">
									Quantity
								</a>
							</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th>Pict</th>
							<th>Quantity</th>
							<th>Name</th>
							<th>Price</th>
							<th>Opsi</th>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
	</form>
</th:block>
<th:block th:include="/fragments/footers"></th:block>
</body>
</html>